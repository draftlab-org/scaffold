---
import type { FooterSection } from '@components/organisms/Footer.astro';
import Footer from '@components/organisms/Footer.astro';
import type { NavLink } from '@components/organisms/Navigation.astro';
import Header from '@components/sections/Header.astro';
import Main from '@components/sections/Main.astro';
import BaseLayout from '@layouts/BaseLayout.astro';

export interface Props {
  title: string;
  description?: string;
  image?: ImageMetadata;
  navLinks?: NavLink[];
  footerSections?: FooterSection[];
  siteName?: string;
  stickyHeader?: boolean;
  containerized?: boolean;
  maxWidth?: 'full' | '7xl' | '6xl' | '5xl' | '4xl';
  class?: string;
  padding?: boolean
}

const {
  title,
  description,
  image,
  navLinks = [
    { href: '/about', label: 'About Us' },
    { href: '/community', label: 'Feature Sandbox' },
    { href: '/people', label: 'People' },
    { href: '/articles', label: 'Articles' },
  ],
  footerSections = [],
  siteName = 'Draftlab Scaffold',
  stickyHeader = true,
  containerized = false,
  padding = false,
  maxWidth = '7xl',
  class: className = '',
} = Astro.props;
---

<BaseLayout title={title} description={description} image={image}>
	<slot name="head" slot="head" />

	<div class="flex min-h-screen flex-col">
		<!-- Header -->
		<Header links={navLinks} siteName={siteName} sticky={stickyHeader}>
			<slot name="header-actions" slot="actions" />
		</Header>

		<!-- Main Content -->
		<Main
			containerized={containerized}
			padding={padding}
			maxWidth={maxWidth}
			class={className}
		>
			<slot />
		</Main>

		<!-- Footer -->
		<Footer sections={footerSections} siteName={siteName} class="mt-auto">
			<slot name="footer-content" />
		</Footer>
	</div>
</BaseLayout>
