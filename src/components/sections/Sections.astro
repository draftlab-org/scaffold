---
import ButtonSection from '@components/sections/ButtonSection.astro';
import CardSection from '@components/sections/CardSection.astro';
import FlexiSection from '@components/sections/FlexiSection.astro';
import HeroSection from '@components/sections/HeroSection.astro';
import PartnersSection from '@components/sections/PartnersSection.astro';
import PeopleSection from '@components/sections/PeopleSection.astro';
import RichTextSection from '@components/sections/RichTextSection.astro';

const { sectionItems } = Astro.props;

---

{
  sectionItems.map((section: any) => {
    const content = (() => {
      const sectionLabel = `section > ${section.type}`;
      switch (section.type) {
        case 'button':
          return (
            <ButtonSection
              title={section.title}
              buttons={section.buttons}
            />
          );
        case 'flexi':
          return (
            <FlexiSection
              title={section.title}
              description={section.description}
              sections={section.sections}
            />
          );
        case 'hero':
          return (
            <HeroSection
              title={section.title}
              subtitle={section.subtitle}
              backgroundImage={section.backgroundImage}
              sectionLabel={sectionLabel}
            />
          );
        case 'richText':
          return (
            <RichTextSection
              background={section.background}
              content={section.content}
            />
          );
        case 'card':
          return (
            <CardSection
              title={section.title}
              description={section.description}
              cards={section.cards}
              buttons={section.buttons}
            />
          );
        case 'people':
          return (
            <PeopleSection
              category={section.category}
            />
          );
        case 'partners':
          return (
            <PartnersSection
              title={section.title}
              category={section.category}
            />
          );
        default:
          return null;
      }
    })();

    return <div class="section-container">{content}</div>;
  })
}