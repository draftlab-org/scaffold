---
import Link from '@components/atoms/Link.astro';
import NavItem from '@components/molecules/NavItem.astro';

export interface NavLink {
  href: string;
  label: string;
}

export interface Props {
  links: NavLink[];
  currentPath?: string;
  siteName?: string;
  class?: string;
}

const {
  links,
  currentPath = Astro.url.pathname,
  siteName = 'DraftLab',
  class: className = '',
} = Astro.props;

const isActive = (href: string) => {
  if (href === '/') return currentPath === '/';
  return currentPath.startsWith(href);
};
---

<nav class={`bg-white border-b border-gray-200 ${className}`}>
	<div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
		<div class="flex h-16 items-center justify-between">
			<!-- Logo/Site Name -->
			<div class="shrink-0">
				<Link
					href="/"
					variant="unstyled"
					class="text-xl font-bold text-gray-900"
				>
					{siteName}
				</Link>
			</div>

			<!-- Navigation Links -->
			<div class="hidden md:block">
				<div class="flex items-center space-x-1">
					{
						links.map((link) => (
							<NavItem
								href={link.href}
								label={link.label}
								active={isActive(link.href)}
							/>
						))
					}
				</div>
			</div>

			<!-- CTA or Actions Slot -->
			<div class="flex items-center space-x-4">
				<slot name="actions" />
			</div>

			<!-- Mobile Menu Button Slot -->
			<div class="md:hidden">
				<slot name="mobile-menu-button" />
			</div>
		</div>
	</div>

	<!-- Mobile Menu Slot -->
	<slot name="mobile-menu" />
</nav>
